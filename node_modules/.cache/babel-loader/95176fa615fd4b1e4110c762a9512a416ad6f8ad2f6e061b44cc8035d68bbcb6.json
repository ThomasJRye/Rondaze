{"ast":null,"code":"import { NUKES, ASTEROIDS, DAMPING_FACTOR } from './constants.js';\nimport { applyGravity } from './physics.js';\nexport function Nuke(x, y, velocity_x, velocity_y, angle, angularVelocity, planet) {\n  this.x = x;\n  this.y = y;\n  this.velocity_x = velocity_x;\n  this.velocity_y = velocity_y;\n  this.angle = angle;\n  this.angular_velocity = angularVelocity;\n  this.radius = NUKES.RADIUS;\n  this.fuse = NUKES.FUSE;\n  this.planet = planet;\n  this.boom_radius = NUKES.BOOM_RADIUS;\n  this.activated = false;\n  this.update = function () {\n    this.x += this.velocity_x;\n    this.y += this.velocity_y;\n    let newVelocities = applyGravity(planet, this.x, this.y, this.velocity_x, this.velocity_y);\n    this.velocity_x = newVelocities.velocity_x;\n    this.velocity_y = newVelocities.velocity_y;\n    this.angle += this.angularVelocity;\n    this.angularVelocity *= DAMPING_FACTOR;\n    this.fuse -= 1;\n  };\n  this.draw = function (ctx) {\n    ctx.save();\n    ctx.translate(this.x, this.y);\n    ctx.rotate(this.angle);\n    ctx.beginPath();\n    ctx.arc(0, 0, this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = NUKES.COLOR;\n    ctx.fill();\n    ctx.restore();\n  };\n  this.drawBoom = function (ctx) {\n    ctx.save();\n    ctx.translate(this.x, this.y);\n    ctx.beginPath();\n    ctx.arc(0, 0, this.boom_radius, 0, Math.PI * 2);\n    ctx.fillStyle = NUKES.BOOM_COLOR;\n    ctx.fill();\n    ctx.restore();\n  };\n  this.isOutOfBounds = function (canvasWidth, canvasHeight) {\n    return this.x < 0 || this.x > canvasWidth || this.y < 0 || this.y > canvasHeight;\n  };\n}\n_c = Nuke;\nexport function Asteroid(x, y, velocity_x, velocity_y, planet, radius) {\n  this.x = x;\n  this.y = y;\n  this.velocity_x = velocity_x;\n  this.velocity_y = velocity_y;\n  this.radius = radius;\n  this.mass = radius * radius * ASTEROIDS.MASS;\n  this.planet = planet;\n  this.update = function () {\n    this.x += this.velocity_x;\n    this.y += this.velocity_y;\n  };\n  this.draw = function (ctx) {\n    ctx.save();\n    ctx.translate(this.x, this.y);\n    ctx.beginPath();\n    ctx.arc(0, 0, this.radius, 0, Math.PI * 2);\n    ctx.fillStyle = ASTEROIDS.COLOR;\n    ctx.fill();\n    ctx.restore();\n  };\n  this.isOutOfBounds = function (canvasWidth, canvasHeight) {\n    return this.x < 0 || this.x > canvasWidth || this.y < 0 || this.y > canvasHeight;\n  };\n}\n_c2 = Asteroid;\nvar _c, _c2;\n$RefreshReg$(_c, \"Nuke\");\n$RefreshReg$(_c2, \"Asteroid\");","map":{"version":3,"names":["NUKES","ASTEROIDS","DAMPING_FACTOR","applyGravity","Nuke","x","y","velocity_x","velocity_y","angle","angularVelocity","planet","angular_velocity","radius","RADIUS","fuse","FUSE","boom_radius","BOOM_RADIUS","activated","update","newVelocities","draw","ctx","save","translate","rotate","beginPath","arc","Math","PI","fillStyle","COLOR","fill","restore","drawBoom","BOOM_COLOR","isOutOfBounds","canvasWidth","canvasHeight","_c","Asteroid","mass","MASS","_c2","$RefreshReg$"],"sources":["/Users/thomasrye/Documents/github/Rondaze/src/game/models.js"],"sourcesContent":["import { NUKES, ASTEROIDS, DAMPING_FACTOR } from './constants.js';\nimport { applyGravity } from './physics.js';\n\nexport function Nuke(x, y, velocity_x, velocity_y, angle, angularVelocity, planet) {\n    this.x = x;\n    this.y = y;\n    this.velocity_x = velocity_x;\n    this.velocity_y = velocity_y;\n    this.angle = angle;\n    this.angular_velocity = angularVelocity;\n    this.radius = NUKES.RADIUS;\n    this.fuse = NUKES.FUSE;\n    this.planet = planet;\n    this.boom_radius = NUKES.BOOM_RADIUS;\n    this.activated = false;\n\n  \n    this.update = function() {\n        this.x += this.velocity_x;\n        this.y += this.velocity_y;\n    \n        let newVelocities = applyGravity(planet, this.x, this.y, this.velocity_x, this.velocity_y);\n        this.velocity_x = newVelocities.velocity_x;\n        this.velocity_y = newVelocities.velocity_y;\n\n        this.angle += this.angularVelocity;\n        this.angularVelocity *= DAMPING_FACTOR;\n        this.fuse -= 1;\n    };\n\n    this.draw = function(ctx) {\n        ctx.save();\n        ctx.translate(this.x, this.y);\n        ctx.rotate(this.angle);\n        ctx.beginPath();\n        ctx.arc(0, 0, this.radius, 0, Math.PI * 2);\n        ctx.fillStyle = NUKES.COLOR;\n        ctx.fill();\n        ctx.restore();\n    };\n\n    this.drawBoom = function(ctx) {\n        ctx.save();\n        ctx.translate(this.x, this.y);\n        ctx.beginPath();\n        ctx.arc(0, 0, this.boom_radius, 0, Math.PI * 2);\n        ctx.fillStyle = NUKES.BOOM_COLOR;\n        ctx.fill();\n        ctx.restore();\n    }\n\n    this.isOutOfBounds = function(canvasWidth, canvasHeight) {\n        return this.x < 0 || this.x > canvasWidth || this.y < 0 || this.y > canvasHeight;\n    };\n}\n\nexport function Asteroid(x, y, velocity_x, velocity_y, planet, radius) {\n    this.x = x;\n    this.y = y;\n    this.velocity_x = velocity_x;\n    this.velocity_y = velocity_y;\n    this.radius = radius;\n    this.mass = radius * radius * ASTEROIDS.MASS;\n    this.planet = planet;\n\n    this.update = function() {\n        this.x += this.velocity_x;\n        this.y += this.velocity_y;\n    };\n\n    this.draw = function(ctx) {\n        ctx.save();\n        ctx.translate(this.x, this.y);\n        ctx.beginPath();\n        ctx.arc(0, 0, this.radius, 0, Math.PI * 2);\n        ctx.fillStyle = ASTEROIDS.COLOR;\n        ctx.fill();\n        ctx.restore();\n    };\n\n    this.isOutOfBounds = function(canvasWidth, canvasHeight) {\n        return this.x < 0 || this.x > canvasWidth || this.y < 0 || this.y > canvasHeight;\n    };\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}